/*
 * Provides a drop-in pointer for the default Trix stylesheet that will format the toolbar and
 * the trix-editor content (whether displayed or under editing). Feel free to incorporate this
 * inclusion directly in any other asset bundle and remove this file.
 *
 *= require trix
*/

/*
 * We need to override trix.css‚Äôs image gallery styles to accommodate the
 * <action-text-attachment> element we wrap around attachments. Otherwise,
 * images in galleries will be squished by the max-width: 33%; rule.
*/
.trix-content .attachment-gallery > action-text-attachment,
.trix-content .attachment-gallery > .attachment {
  flex: 1 0 33%;
  padding: 0 0.5em;
  max-width: 33%;
}

.trix-content .attachment-gallery.attachment-gallery--2 > action-text-attachment,
.trix-content .attachment-gallery.attachment-gallery--2 > .attachment, .trix-content .attachment-gallery.attachment-gallery--4 > action-text-attachment,
.trix-content .attachment-gallery.attachment-gallery--4 > .attachment {
  flex-basis: 50%;
  max-width: 50%;
}

.trix-content action-text-attachment .attachment {
  padding: 0 !important;
  max-width: 100% !important;
}

/* Trix Toolbar Icon Improvements */
trix-toolbar {
  background: #f8f9fa;
  border: 1px solid #dee2e6;
  border-radius: 0.375rem;
  padding: 0.5rem;
  margin-bottom: 0.5rem;
}

trix-toolbar .trix-button-row {
  gap: 0.25rem;
}

trix-toolbar .trix-button-group {
  gap: 0.25rem;
  margin-right: 0.5rem;
  border: none;
}

trix-toolbar .trix-button {
  border: 1px solid transparent;
  background: transparent;
  border-radius: 0.25rem;
  padding: 0.5rem;
  width: 2.25rem;
  height: 2.25rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  position: relative;
  font-size: 0;
  color: #495057;
  transition: all 0.15s ease;
}

trix-toolbar .trix-button:hover {
  background: #e9ecef;
  border-color: #dee2e6;
}

trix-toolbar .trix-button.trix-active {
  background: #0d6efd;
  color: white;
  border-color: #0d6efd;
}

trix-toolbar .trix-button.trix-active::before {
  color: white;
}

/* Icon styles using Unicode and symbols */
trix-toolbar .trix-button::before {
  font-size: 1.125rem;
  font-weight: 600;
  color: #495057;
  line-height: 1;
}

/* Bold */
trix-toolbar .trix-button--icon-bold::before {
  content: "B";
  font-weight: 700;
}

/* Italic */
trix-toolbar .trix-button--icon-italic::before {
  content: "I";
  font-style: italic;
  font-family: Georgia, serif;
}

/* Strike */
trix-toolbar .trix-button--icon-strike::before {
  content: "S";
  text-decoration: line-through;
}

/* Link */
trix-toolbar .trix-button--icon-link::before {
  content: "üîó";
  font-size: 1rem;
}

/* Heading */
trix-toolbar .trix-button--icon-heading-1::before {
  content: "H‚ÇÅ";
  font-size: 1rem;
}

/* Quote */
trix-toolbar .trix-button--icon-quote::before {
  content: """;
  font-size: 1.5rem;
  font-family: Georgia, serif;
}

/* Code */
trix-toolbar .trix-button--icon-code::before {
  content: "</>";
  font-size: 0.875rem;
  font-family: monospace;
}

/* Bullet List */
trix-toolbar .trix-button--icon-bullet-list::before {
  content: "‚Ä¢";
  font-size: 1.5rem;
}

/* Number List */
trix-toolbar .trix-button--icon-number-list::before {
  content: "1.";
  font-size: 0.875rem;
}

/* Decrease Nesting Level */
trix-toolbar .trix-button--icon-decrease-nesting-level::before {
  content: "‚á§";
  font-size: 1.25rem;
}

/* Increase Nesting Level */
trix-toolbar .trix-button--icon-increase-nesting-level::before {
  content: "‚á•";
  font-size: 1.25rem;
}

/* Attach Files */
trix-toolbar .trix-button--icon-attach::before {
  content: "üìé";
  font-size: 1rem;
}

/* Undo */
trix-toolbar .trix-button--icon-undo::before {
  content: "‚Ü∂";
  font-size: 1.25rem;
}

/* Redo */
trix-toolbar .trix-button--icon-redo::before {
  content: "‚Ü∑";
  font-size: 1.25rem;
}

/* Dialog styles */
trix-toolbar .trix-dialog {
  border-radius: 0.375rem;
  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
  border: 1px solid #dee2e6;
}

trix-toolbar .trix-dialog__link-fields {
  padding: 1rem;
}

trix-toolbar .trix-input {
  border: 1px solid #dee2e6;
  border-radius: 0.25rem;
  padding: 0.375rem 0.75rem;
  font-size: 0.875rem;
}

trix-toolbar .trix-button--dialog {
  border-radius: 0.25rem;
  padding: 0.375rem 0.75rem;
  font-size: 0.875rem;
}

/* Responsive: Show tooltips on hover for desktop */
@media (min-width: 768px) {
  trix-toolbar .trix-button {
    position: relative;
  }

  trix-toolbar .trix-button:hover::after {
    content: attr(title);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    background: #212529;
    color: white;
    padding: 0.25rem 0.5rem;
    border-radius: 0.25rem;
    font-size: 0.75rem;
    white-space: nowrap;
    margin-bottom: 0.25rem;
    pointer-events: none;
    z-index: 1000;
  }

  trix-toolbar .trix-button:hover::before {
    content: '';
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%);
    border: 4px solid transparent;
    border-top-color: #212529;
    margin-bottom: -0.25rem;
  }
}
